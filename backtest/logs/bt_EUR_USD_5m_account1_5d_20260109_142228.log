/Users/dongchen/Documents/AI-project/GitHub/ppsupertrend/venv/lib/python3.9/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2026-01-09 14:22:30,358 - INFO - Downloading EUR_USD data for timeframes: ['M5', 'H3']
2026-01-09 14:22:30,358 - INFO - Downloading EUR_USD data for timeframes: ['M5', 'H3']
2026-01-09 14:22:30,358 - INFO - 
--- Downloading M5 data ---
2026-01-09 14:22:30,358 - INFO - 
--- Downloading M5 data ---
2026-01-09 14:22:30,358 - INFO - Downloading recent EUR_USD M5 data...
2026-01-09 14:22:30,358 - INFO - Downloading recent EUR_USD M5 data...
2026-01-09 14:22:30,358 - INFO - Requesting 1440 recent candles
2026-01-09 14:22:30,358 - INFO - Requesting 1440 recent candles
2026-01-09 14:22:30,891 - INFO - Downloaded 1440 candles from 2026-01-04 22:00:00+00:00 to 2026-01-09 21:55:00+00:00
2026-01-09 14:22:30,891 - INFO - Downloaded 1440 candles from 2026-01-04 22:00:00+00:00 to 2026-01-09 21:55:00+00:00
2026-01-09 14:22:30,899 - INFO - Data cached to backtest/data/EUR_USD_M5_20260104_20260109.csv
2026-01-09 14:22:30,899 - INFO - Data cached to backtest/data/EUR_USD_M5_20260104_20260109.csv
2026-01-09 14:22:30,899 - INFO - âœ“ M5: 1440 candles
2026-01-09 14:22:30,899 - INFO - âœ“ M5: 1440 candles
2026-01-09 14:22:30,899 - INFO - 
--- Downloading H3 data ---
2026-01-09 14:22:30,899 - INFO - 
--- Downloading H3 data ---
2026-01-09 14:22:30,899 - INFO - Downloading recent EUR_USD H3 data...
2026-01-09 14:22:30,899 - INFO - Downloading recent EUR_USD H3 data...
2026-01-09 14:22:30,899 - INFO - Requesting 50 recent candles
2026-01-09 14:22:30,899 - INFO - Requesting 50 recent candles
2026-01-09 14:22:31,105 - INFO - Downloaded 50 candles from 2025-12-31 16:00:00+00:00 to 2026-01-09 19:00:00+00:00
2026-01-09 14:22:31,105 - INFO - Downloaded 50 candles from 2025-12-31 16:00:00+00:00 to 2026-01-09 19:00:00+00:00
2026-01-09 14:22:31,105 - INFO - Data cached to backtest/data/EUR_USD_H3_20260104_20260109.csv
2026-01-09 14:22:31,105 - INFO - Data cached to backtest/data/EUR_USD_H3_20260104_20260109.csv
2026-01-09 14:22:31,105 - INFO - âœ“ H3: 50 candles
2026-01-09 14:22:31,105 - INFO - âœ“ H3: 50 candles

==================================================
DOWNLOAD SUMMARY
==================================================
M5: 1440 candles (2026-01-04 22:00:00+00:00 to 2026-01-09 21:55:00+00:00)
H3: 50 candles (2025-12-31 16:00:00+00:00 to 2026-01-09 19:00:00+00:00)
/Users/dongchen/Documents/AI-project/GitHub/ppsupertrend/venv/lib/python3.9/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2026-01-09 14:22:31,365 - INFO - Downloading EUR_USD data for timeframes: ['M5', 'H3', 'M1']
2026-01-09 14:22:31,365 - INFO - Downloading EUR_USD data for timeframes: ['M5', 'H3', 'M1']
2026-01-09 14:22:31,365 - INFO - 
--- Downloading M5 data ---
2026-01-09 14:22:31,365 - INFO - 
--- Downloading M5 data ---
2026-01-09 14:22:31,365 - INFO - Loading cached data from backtest/data/EUR_USD_M5_20260104_20260109.csv
2026-01-09 14:22:31,365 - INFO - Loading cached data from backtest/data/EUR_USD_M5_20260104_20260109.csv
2026-01-09 14:22:31,372 - INFO - âœ“ M5: 1440 candles
2026-01-09 14:22:31,372 - INFO - âœ“ M5: 1440 candles
2026-01-09 14:22:31,372 - INFO - 
--- Downloading H3 data ---
2026-01-09 14:22:31,372 - INFO - 
--- Downloading H3 data ---
2026-01-09 14:22:31,372 - INFO - Loading cached data from backtest/data/EUR_USD_H3_20260104_20260109.csv
2026-01-09 14:22:31,372 - INFO - Loading cached data from backtest/data/EUR_USD_H3_20260104_20260109.csv
2026-01-09 14:22:31,373 - INFO - âœ“ H3: 50 candles
2026-01-09 14:22:31,373 - INFO - âœ“ H3: 50 candles
2026-01-09 14:22:31,373 - INFO - 
--- Downloading M1 data ---
2026-01-09 14:22:31,373 - INFO - 
--- Downloading M1 data ---
2026-01-09 14:22:31,373 - INFO - Downloading recent EUR_USD M1 data...
2026-01-09 14:22:31,373 - INFO - Downloading recent EUR_USD M1 data...
2026-01-09 14:22:31,373 - INFO - Requesting 5000 recent candles
2026-01-09 14:22:31,373 - INFO - Requesting 5000 recent candles
2026-01-09 14:22:32,635 - INFO - Downloaded 5000 candles from 2026-01-06 10:12:00+00:00 to 2026-01-09 21:59:00+00:00
2026-01-09 14:22:32,635 - INFO - Downloaded 5000 candles from 2026-01-06 10:12:00+00:00 to 2026-01-09 21:59:00+00:00
2026-01-09 14:22:32,659 - INFO - Data cached to backtest/data/EUR_USD_M1_20260104_20260109.csv
2026-01-09 14:22:32,659 - INFO - Data cached to backtest/data/EUR_USD_M1_20260104_20260109.csv
2026-01-09 14:22:32,659 - INFO - âœ“ M1: 5000 candles
2026-01-09 14:22:32,659 - INFO - âœ“ M1: 5000 candles
2026-01-09 14:22:32,664 - INFO - Starting backtest for EUR_USD 5m
2026-01-09 14:22:32,664 - INFO - Starting backtest for EUR_USD 5m
2026-01-09 14:22:32,664 - INFO - Trading data: 1440 candles
2026-01-09 14:22:32,664 - INFO - Trading data: 1440 candles
2026-01-09 14:22:32,664 - INFO - Market data: 50 candles
2026-01-09 14:22:32,664 - INFO - Market data: 50 candles
2026-01-09 14:22:32,664 - INFO - M1 data: Not provided (standard backtest mode)
2026-01-09 14:22:32,664 - INFO - M1 data: Not provided (standard backtest mode)
2026-01-09 14:22:32,664 - INFO - Backtest period: 2026-01-04 22:00:00+00:00 to 2026-01-09 21:55:00+00:00
2026-01-09 14:22:32,664 - INFO - Backtest period: 2026-01-04 22:00:00+00:00 to 2026-01-09 21:55:00+00:00
2026-01-09 14:22:32,664 - INFO - Calculating indicators...
2026-01-09 14:22:32,664 - INFO - Calculating indicators...
2026-01-09 14:22:33,501 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,501 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,501 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,501 - INFO -   Position size: 75930 units (0.759 lots)
2026-01-09 14:22:33,501 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,501 - INFO -   Stop distance: 0.00132 (13.2 pips)
2026-01-09 14:22:33,501 - INFO - OPENED SHORT | Price: 1.17116 | SL: 1.17258 | TP: 1.16974 | Size: 75,930 | Market: NEUTRAL
2026-01-09 14:22:33,501 - INFO - OPENED SHORT | Price: 1.17116 | SL: 1.17258 | TP: 1.16974 | Size: 75,930 | Market: NEUTRAL
2026-01-09 14:22:33,511 - INFO - CLOSED SHORT | P/L: $107.59 | Reason: TAKE_PROFIT | Duration: 190m
2026-01-09 14:22:33,511 - INFO - CLOSED SHORT | P/L: $107.59 | Reason: TAKE_PROFIT | Duration: 190m
2026-01-09 14:22:33,523 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,523 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,523 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,523 - INFO -   Position size: 104262 units (1.043 lots)
2026-01-09 14:22:33,523 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,523 - INFO -   Stop distance: 0.00096 (9.6 pips)
2026-01-09 14:22:33,523 - INFO - OPENED LONG | Price: 1.16848 | SL: 1.16742 | TP: 1.16954 | Size: 104,262 | Market: NEUTRAL
2026-01-09 14:22:33,523 - INFO - OPENED LONG | Price: 1.16848 | SL: 1.16742 | TP: 1.16954 | Size: 104,262 | Market: NEUTRAL
2026-01-09 14:22:33,536 - INFO - ðŸ”„ Trend reversal: Closing LONG and opening SHORT
2026-01-09 14:22:33,536 - INFO - CLOSED LONG | P/L: $-94.88 | Reason: SIGNAL_REVERSAL | Duration: 240m
2026-01-09 14:22:33,536 - INFO - CLOSED LONG | P/L: $-94.88 | Reason: SIGNAL_REVERSAL | Duration: 240m
2026-01-09 14:22:33,536 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,536 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,536 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,536 - INFO -   Position size: 51700 units (0.517 lots)
2026-01-09 14:22:33,536 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,536 - INFO -   Stop distance: 0.00193 (19.3 pips)
2026-01-09 14:22:33,536 - INFO - OPENED SHORT | Price: 1.16757 | SL: 1.16960 | TP: 1.16554 | Size: 51,700 | Market: NEUTRAL
2026-01-09 14:22:33,536 - INFO - OPENED SHORT | Price: 1.16757 | SL: 1.16960 | TP: 1.16554 | Size: 51,700 | Market: NEUTRAL
2026-01-09 14:22:33,553 - INFO - ðŸ”„ Trend reversal: Closing SHORT and opening LONG
2026-01-09 14:22:33,553 - INFO - CLOSED SHORT | P/L: $-94.61 | Reason: SIGNAL_REVERSAL | Duration: 320m
2026-01-09 14:22:33,553 - INFO - CLOSED SHORT | P/L: $-94.61 | Reason: SIGNAL_REVERSAL | Duration: 320m
2026-01-09 14:22:33,553 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,553 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,553 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,554 - INFO -   Position size: 32439 units (0.324 lots)
2026-01-09 14:22:33,554 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,554 - INFO -   Stop distance: 0.00308 (30.8 pips)
2026-01-09 14:22:33,554 - INFO - OPENED LONG | Price: 1.16940 | SL: 1.16622 | TP: 1.17258 | Size: 32,439 | Market: NEUTRAL
2026-01-09 14:22:33,554 - INFO - OPENED LONG | Price: 1.16940 | SL: 1.16622 | TP: 1.17258 | Size: 32,439 | Market: NEUTRAL
2026-01-09 14:22:33,566 - INFO - CLOSED LONG | P/L: $103.24 | Reason: TAKE_PROFIT | Duration: 240m
2026-01-09 14:22:33,566 - INFO - CLOSED LONG | P/L: $103.24 | Reason: TAKE_PROFIT | Duration: 240m
2026-01-09 14:22:33,575 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,575 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,575 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,575 - INFO -   Position size: 109855 units (1.099 lots)
2026-01-09 14:22:33,575 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,575 - INFO -   Stop distance: 0.00091 (9.1 pips)
2026-01-09 14:22:33,575 - INFO - OPENED SHORT | Price: 1.17206 | SL: 1.17307 | TP: 1.17105 | Size: 109,855 | Market: NEUTRAL
2026-01-09 14:22:33,575 - INFO - OPENED SHORT | Price: 1.17206 | SL: 1.17307 | TP: 1.17105 | Size: 109,855 | Market: NEUTRAL
2026-01-09 14:22:33,588 - INFO - ðŸ”„ Trend reversal: Closing SHORT and opening LONG
2026-01-09 14:22:33,588 - INFO - CLOSED SHORT | P/L: $2.20 | Reason: SIGNAL_REVERSAL | Duration: 240m
2026-01-09 14:22:33,588 - INFO - CLOSED SHORT | P/L: $2.20 | Reason: SIGNAL_REVERSAL | Duration: 240m
2026-01-09 14:22:33,588 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,588 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,588 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,588 - INFO -   Position size: 99350 units (0.994 lots)
2026-01-09 14:22:33,589 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,589 - INFO -   Stop distance: 0.00101 (10.1 pips)
2026-01-09 14:22:33,589 - INFO - OPENED LONG | Price: 1.17204 | SL: 1.17093 | TP: 1.17315 | Size: 99,350 | Market: NEUTRAL
2026-01-09 14:22:33,589 - INFO - OPENED LONG | Price: 1.17204 | SL: 1.17093 | TP: 1.17315 | Size: 99,350 | Market: NEUTRAL
2026-01-09 14:22:33,592 - INFO - CLOSED LONG | P/L: $109.93 | Reason: TAKE_PROFIT | Duration: 65m
2026-01-09 14:22:33,592 - INFO - CLOSED LONG | P/L: $109.93 | Reason: TAKE_PROFIT | Duration: 65m
2026-01-09 14:22:33,602 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,602 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,602 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,602 - INFO -   Position size: 130274 units (1.303 lots)
2026-01-09 14:22:33,602 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,602 - INFO -   Stop distance: 0.00077 (7.7 pips)
2026-01-09 14:22:33,602 - INFO - OPENED SHORT | Price: 1.17300 | SL: 1.17387 | TP: 1.17213 | Size: 130,274 | Market: NEUTRAL
2026-01-09 14:22:33,602 - INFO - OPENED SHORT | Price: 1.17300 | SL: 1.17387 | TP: 1.17213 | Size: 130,274 | Market: NEUTRAL
2026-01-09 14:22:33,606 - INFO - CLOSED SHORT | P/L: $-113.03 | Reason: STOP_LOSS | Duration: 70m
2026-01-09 14:22:33,606 - INFO - CLOSED SHORT | P/L: $-113.03 | Reason: STOP_LOSS | Duration: 70m
2026-01-09 14:22:33,606 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,606 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,606 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,606 - INFO -   Position size: 80173 units (0.802 lots)
2026-01-09 14:22:33,606 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,606 - INFO -   Stop distance: 0.00125 (12.5 pips)
2026-01-09 14:22:33,606 - INFO - OPENED LONG | Price: 1.17406 | SL: 1.17271 | TP: 1.17541 | Size: 80,173 | Market: NEUTRAL
2026-01-09 14:22:33,606 - INFO - OPENED LONG | Price: 1.17406 | SL: 1.17271 | TP: 1.17541 | Size: 80,173 | Market: NEUTRAL
2026-01-09 14:22:33,609 - INFO - ðŸ”„ Trend reversal: Closing LONG and opening SHORT
2026-01-09 14:22:33,610 - INFO - CLOSED LONG | P/L: $-92.20 | Reason: SIGNAL_REVERSAL | Duration: 55m
2026-01-09 14:22:33,610 - INFO - CLOSED LONG | P/L: $-92.20 | Reason: SIGNAL_REVERSAL | Duration: 55m
2026-01-09 14:22:33,610 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,610 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,610 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,610 - INFO -   Position size: 66750 units (0.667 lots)
2026-01-09 14:22:33,610 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,610 - INFO -   Stop distance: 0.00150 (15.0 pips)
2026-01-09 14:22:33,610 - INFO - OPENED SHORT | Price: 1.17291 | SL: 1.17451 | TP: 1.17131 | Size: 66,750 | Market: NEUTRAL
2026-01-09 14:22:33,610 - INFO - OPENED SHORT | Price: 1.17291 | SL: 1.17451 | TP: 1.17131 | Size: 66,750 | Market: NEUTRAL
2026-01-09 14:22:33,614 - INFO - CLOSED SHORT | P/L: $106.68 | Reason: TAKE_PROFIT | Duration: 85m
2026-01-09 14:22:33,614 - INFO - CLOSED SHORT | P/L: $106.68 | Reason: TAKE_PROFIT | Duration: 85m
2026-01-09 14:22:33,630 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,630 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,630 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,630 - INFO -   Position size: 60729 units (0.607 lots)
2026-01-09 14:22:33,630 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,630 - INFO -   Stop distance: 0.00165 (16.5 pips)
2026-01-09 14:22:33,630 - INFO - OPENED LONG | Price: 1.17143 | SL: 1.16968 | TP: 1.17318 | Size: 60,729 | Market: NEUTRAL
2026-01-09 14:22:33,630 - INFO - OPENED LONG | Price: 1.17143 | SL: 1.16968 | TP: 1.17318 | Size: 60,729 | Market: NEUTRAL
2026-01-09 14:22:33,633 - INFO - CLOSED LONG | P/L: $-106.07 | Reason: STOP_LOSS | Duration: 70m
2026-01-09 14:22:33,633 - INFO - CLOSED LONG | P/L: $-106.07 | Reason: STOP_LOSS | Duration: 70m
2026-01-09 14:22:33,633 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,633 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,633 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,634 - INFO -   Position size: 38404 units (0.384 lots)
2026-01-09 14:22:33,634 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,634 - INFO -   Stop distance: 0.00260 (26.0 pips)
2026-01-09 14:22:33,634 - INFO - OPENED SHORT | Price: 1.16958 | SL: 1.17228 | TP: 1.16688 | Size: 38,404 | Market: NEUTRAL
2026-01-09 14:22:33,634 - INFO - OPENED SHORT | Price: 1.16958 | SL: 1.17228 | TP: 1.16688 | Size: 38,404 | Market: NEUTRAL
2026-01-09 14:22:33,643 - INFO - ðŸ”„ Trend reversal: Closing SHORT and opening LONG
2026-01-09 14:22:33,643 - INFO - CLOSED SHORT | P/L: $-20.74 | Reason: SIGNAL_REVERSAL | Duration: 170m
2026-01-09 14:22:33,643 - INFO - CLOSED SHORT | P/L: $-20.74 | Reason: SIGNAL_REVERSAL | Duration: 170m
2026-01-09 14:22:33,643 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,643 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,643 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,643 - INFO -   Position size: 76459 units (0.765 lots)
2026-01-09 14:22:33,644 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,644 - INFO -   Stop distance: 0.00131 (13.1 pips)
2026-01-09 14:22:33,644 - INFO - OPENED LONG | Price: 1.17012 | SL: 1.16871 | TP: 1.17153 | Size: 76,459 | Market: NEUTRAL
2026-01-09 14:22:33,644 - INFO - OPENED LONG | Price: 1.17012 | SL: 1.16871 | TP: 1.17153 | Size: 76,459 | Market: NEUTRAL
2026-01-09 14:22:33,646 - INFO - ðŸ”„ Trend reversal: Closing LONG and opening SHORT
2026-01-09 14:22:33,646 - INFO - CLOSED LONG | P/L: $-105.51 | Reason: SIGNAL_REVERSAL | Duration: 50m
2026-01-09 14:22:33,646 - INFO - CLOSED LONG | P/L: $-105.51 | Reason: SIGNAL_REVERSAL | Duration: 50m
2026-01-09 14:22:33,646 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,646 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,646 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,646 - INFO -   Position size: 61724 units (0.617 lots)
2026-01-09 14:22:33,646 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,646 - INFO -   Stop distance: 0.00162 (16.2 pips)
2026-01-09 14:22:33,646 - INFO - OPENED SHORT | Price: 1.16874 | SL: 1.17046 | TP: 1.16702 | Size: 61,724 | Market: NEUTRAL
2026-01-09 14:22:33,646 - INFO - OPENED SHORT | Price: 1.16874 | SL: 1.17046 | TP: 1.16702 | Size: 61,724 | Market: NEUTRAL
2026-01-09 14:22:33,665 - INFO - ðŸ”„ Trend reversal: Closing SHORT and opening LONG
2026-01-09 14:22:33,665 - INFO - CLOSED SHORT | P/L: $-22.84 | Reason: SIGNAL_REVERSAL | Duration: 340m
2026-01-09 14:22:33,665 - INFO - CLOSED SHORT | P/L: $-22.84 | Reason: SIGNAL_REVERSAL | Duration: 340m
2026-01-09 14:22:33,665 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,665 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,665 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,665 - INFO -   Position size: 196990 units (1.970 lots)
2026-01-09 14:22:33,665 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,665 - INFO -   Stop distance: 0.00051 (5.1 pips)
2026-01-09 14:22:33,665 - INFO - OPENED LONG | Price: 1.16911 | SL: 1.16850 | TP: 1.16972 | Size: 196,990 | Market: NEUTRAL
2026-01-09 14:22:33,665 - INFO - OPENED LONG | Price: 1.16911 | SL: 1.16850 | TP: 1.16972 | Size: 196,990 | Market: NEUTRAL
2026-01-09 14:22:33,668 - INFO - CLOSED LONG | P/L: $119.70 | Reason: TAKE_PROFIT | Duration: 65m
2026-01-09 14:22:33,668 - INFO - CLOSED LONG | P/L: $119.70 | Reason: TAKE_PROFIT | Duration: 65m
2026-01-09 14:22:33,679 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,679 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,679 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,679 - INFO -   Position size: 99454 units (0.995 lots)
2026-01-09 14:22:33,679 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,679 - INFO -   Stop distance: 0.00101 (10.1 pips)
2026-01-09 14:22:33,679 - INFO - OPENED SHORT | Price: 1.16934 | SL: 1.17045 | TP: 1.16823 | Size: 99,454 | Market: NEUTRAL
2026-01-09 14:22:33,679 - INFO - OPENED SHORT | Price: 1.16934 | SL: 1.17045 | TP: 1.16823 | Size: 99,454 | Market: NEUTRAL
2026-01-09 14:22:33,686 - INFO - ðŸ”„ Trend reversal: Closing SHORT and opening LONG
2026-01-09 14:22:33,686 - INFO - CLOSED SHORT | P/L: $-55.69 | Reason: SIGNAL_REVERSAL | Duration: 120m
2026-01-09 14:22:33,686 - INFO - CLOSED SHORT | P/L: $-55.69 | Reason: SIGNAL_REVERSAL | Duration: 120m
2026-01-09 14:22:33,686 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,686 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,686 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,686 - INFO -   Position size: 115162 units (1.152 lots)
2026-01-09 14:22:33,686 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,686 - INFO -   Stop distance: 0.00087 (8.7 pips)
2026-01-09 14:22:33,686 - INFO - OPENED LONG | Price: 1.16990 | SL: 1.16893 | TP: 1.17087 | Size: 115,162 | Market: NEUTRAL
2026-01-09 14:22:33,686 - INFO - OPENED LONG | Price: 1.16990 | SL: 1.16893 | TP: 1.17087 | Size: 115,162 | Market: NEUTRAL
2026-01-09 14:22:33,688 - INFO - CLOSED LONG | P/L: $-111.52 | Reason: STOP_LOSS | Duration: 40m
2026-01-09 14:22:33,688 - INFO - CLOSED LONG | P/L: $-111.52 | Reason: STOP_LOSS | Duration: 40m
2026-01-09 14:22:33,688 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,688 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,688 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,688 - INFO -   Position size: 63360 units (0.634 lots)
2026-01-09 14:22:33,688 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,689 - INFO -   Stop distance: 0.00158 (15.8 pips)
2026-01-09 14:22:33,689 - INFO - OPENED SHORT | Price: 1.16864 | SL: 1.17032 | TP: 1.16696 | Size: 63,360 | Market: NEUTRAL
2026-01-09 14:22:33,689 - INFO - OPENED SHORT | Price: 1.16864 | SL: 1.17032 | TP: 1.16696 | Size: 63,360 | Market: NEUTRAL
2026-01-09 14:22:33,701 - INFO - ðŸ”„ Trend reversal: Closing SHORT and opening LONG
2026-01-09 14:22:33,701 - INFO - CLOSED SHORT | P/L: $-38.02 | Reason: SIGNAL_REVERSAL | Duration: 225m
2026-01-09 14:22:33,701 - INFO - CLOSED SHORT | P/L: $-38.02 | Reason: SIGNAL_REVERSAL | Duration: 225m
2026-01-09 14:22:33,701 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,701 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,701 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,701 - INFO -   Position size: 61857 units (0.619 lots)
2026-01-09 14:22:33,701 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,701 - INFO -   Stop distance: 0.00162 (16.2 pips)
2026-01-09 14:22:33,701 - INFO - OPENED LONG | Price: 1.16924 | SL: 1.16752 | TP: 1.17096 | Size: 61,857 | Market: NEUTRAL
2026-01-09 14:22:33,701 - INFO - OPENED LONG | Price: 1.16924 | SL: 1.16752 | TP: 1.17096 | Size: 61,857 | Market: NEUTRAL
2026-01-09 14:22:33,727 - INFO - ðŸ”„ Trend reversal: Closing LONG and opening SHORT
2026-01-09 14:22:33,727 - INFO - CLOSED LONG | P/L: $-58.15 | Reason: SIGNAL_REVERSAL | Duration: 460m
2026-01-09 14:22:33,727 - INFO - CLOSED LONG | P/L: $-58.15 | Reason: SIGNAL_REVERSAL | Duration: 460m
2026-01-09 14:22:33,727 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,727 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,727 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,727 - INFO -   Position size: 84135 units (0.841 lots)
2026-01-09 14:22:33,727 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,727 - INFO -   Stop distance: 0.00119 (11.9 pips)
2026-01-09 14:22:33,727 - INFO - OPENED SHORT | Price: 1.16830 | SL: 1.16959 | TP: 1.16701 | Size: 84,135 | Market: NEUTRAL
2026-01-09 14:22:33,727 - INFO - OPENED SHORT | Price: 1.16830 | SL: 1.16959 | TP: 1.16701 | Size: 84,135 | Market: NEUTRAL
2026-01-09 14:22:33,753 - INFO - ðŸ”„ Trend reversal: Closing SHORT and opening LONG
2026-01-09 14:22:33,753 - INFO - CLOSED SHORT | P/L: $26.92 | Reason: SIGNAL_REVERSAL | Duration: 465m
2026-01-09 14:22:33,753 - INFO - CLOSED SHORT | P/L: $26.92 | Reason: SIGNAL_REVERSAL | Duration: 465m
2026-01-09 14:22:33,753 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,753 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,753 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,753 - INFO -   Position size: 113159 units (1.132 lots)
2026-01-09 14:22:33,753 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,753 - INFO -   Stop distance: 0.00088 (8.8 pips)
2026-01-09 14:22:33,753 - INFO - OPENED LONG | Price: 1.16798 | SL: 1.16700 | TP: 1.16896 | Size: 113,159 | Market: NEUTRAL
2026-01-09 14:22:33,753 - INFO - OPENED LONG | Price: 1.16798 | SL: 1.16700 | TP: 1.16896 | Size: 113,159 | Market: NEUTRAL
2026-01-09 14:22:33,771 - INFO - ðŸ”„ Trend reversal: Closing LONG and opening SHORT
2026-01-09 14:22:33,771 - INFO - CLOSED LONG | P/L: $-66.76 | Reason: SIGNAL_REVERSAL | Duration: 335m
2026-01-09 14:22:33,771 - INFO - CLOSED LONG | P/L: $-66.76 | Reason: SIGNAL_REVERSAL | Duration: 335m
2026-01-09 14:22:33,771 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,771 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,771 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,771 - INFO -   Position size: 100264 units (1.003 lots)
2026-01-09 14:22:33,771 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,771 - INFO -   Stop distance: 0.00100 (10.0 pips)
2026-01-09 14:22:33,771 - INFO - OPENED SHORT | Price: 1.16739 | SL: 1.16849 | TP: 1.16629 | Size: 100,264 | Market: NEUTRAL
2026-01-09 14:22:33,771 - INFO - OPENED SHORT | Price: 1.16739 | SL: 1.16849 | TP: 1.16629 | Size: 100,264 | Market: NEUTRAL
2026-01-09 14:22:33,774 - INFO - Progress: 69.4% (1000/1440)
2026-01-09 14:22:33,774 - INFO - Progress: 69.4% (1000/1440)
2026-01-09 14:22:33,790 - INFO - CLOSED SHORT | P/L: $110.03 | Reason: TAKE_PROFIT | Duration: 330m
2026-01-09 14:22:33,790 - INFO - CLOSED SHORT | P/L: $110.03 | Reason: TAKE_PROFIT | Duration: 330m
2026-01-09 14:22:33,812 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,812 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,812 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,812 - INFO -   Position size: 112371 units (1.124 lots)
2026-01-09 14:22:33,812 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,812 - INFO -   Stop distance: 0.00089 (8.9 pips)
2026-01-09 14:22:33,812 - INFO - OPENED LONG | Price: 1.16532 | SL: 1.16433 | TP: 1.16631 | Size: 112,371 | Market: NEUTRAL
2026-01-09 14:22:33,812 - INFO - OPENED LONG | Price: 1.16532 | SL: 1.16433 | TP: 1.16631 | Size: 112,371 | Market: NEUTRAL
2026-01-09 14:22:33,826 - INFO - ðŸ”„ Trend reversal: Closing LONG and opening SHORT
2026-01-09 14:22:33,826 - INFO - CLOSED LONG | P/L: $20.23 | Reason: SIGNAL_REVERSAL | Duration: 225m
2026-01-09 14:22:33,826 - INFO - CLOSED LONG | P/L: $20.23 | Reason: SIGNAL_REVERSAL | Duration: 225m
2026-01-09 14:22:33,826 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,826 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,826 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,826 - INFO -   Position size: 169614 units (1.696 lots)
2026-01-09 14:22:33,826 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,826 - INFO -   Stop distance: 0.00059 (5.9 pips)
2026-01-09 14:22:33,826 - INFO - OPENED SHORT | Price: 1.16550 | SL: 1.16619 | TP: 1.16481 | Size: 169,614 | Market: NEUTRAL
2026-01-09 14:22:33,826 - INFO - OPENED SHORT | Price: 1.16550 | SL: 1.16619 | TP: 1.16481 | Size: 169,614 | Market: NEUTRAL
2026-01-09 14:22:33,832 - INFO - CLOSED SHORT | P/L: $116.96 | Reason: TAKE_PROFIT | Duration: 115m
2026-01-09 14:22:33,832 - INFO - CLOSED SHORT | P/L: $116.96 | Reason: TAKE_PROFIT | Duration: 115m
2026-01-09 14:22:33,837 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,837 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,837 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,837 - INFO -   Position size: 82966 units (0.830 lots)
2026-01-09 14:22:33,837 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,837 - INFO -   Stop distance: 0.00121 (12.1 pips)
2026-01-09 14:22:33,837 - INFO - OPENED LONG | Price: 1.16571 | SL: 1.16440 | TP: 1.16702 | Size: 82,966 | Market: NEUTRAL
2026-01-09 14:22:33,837 - INFO - OPENED LONG | Price: 1.16571 | SL: 1.16440 | TP: 1.16702 | Size: 82,966 | Market: NEUTRAL
2026-01-09 14:22:33,846 - INFO - ðŸ”„ Trend reversal: Closing LONG and opening SHORT
2026-01-09 14:22:33,846 - INFO - CLOSED LONG | P/L: $-52.27 | Reason: SIGNAL_REVERSAL | Duration: 150m
2026-01-09 14:22:33,846 - INFO - CLOSED LONG | P/L: $-52.27 | Reason: SIGNAL_REVERSAL | Duration: 150m
2026-01-09 14:22:33,846 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,846 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,846 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,846 - INFO -   Position size: 142805 units (1.428 lots)
2026-01-09 14:22:33,846 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,846 - INFO -   Stop distance: 0.00070 (7.0 pips)
2026-01-09 14:22:33,846 - INFO - OPENED SHORT | Price: 1.16508 | SL: 1.16588 | TP: 1.16428 | Size: 142,805 | Market: NEUTRAL
2026-01-09 14:22:33,846 - INFO - OPENED SHORT | Price: 1.16508 | SL: 1.16588 | TP: 1.16428 | Size: 142,805 | Market: NEUTRAL
2026-01-09 14:22:33,852 - INFO - CLOSED SHORT | P/L: $114.28 | Reason: TAKE_PROFIT | Duration: 115m
2026-01-09 14:22:33,852 - INFO - CLOSED SHORT | P/L: $114.28 | Reason: TAKE_PROFIT | Duration: 115m
2026-01-09 14:22:33,875 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,875 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,875 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,875 - INFO -   Position size: 77995 units (0.780 lots)
2026-01-09 14:22:33,875 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,875 - INFO -   Stop distance: 0.00128 (12.8 pips)
2026-01-09 14:22:33,875 - INFO - OPENED LONG | Price: 1.16516 | SL: 1.16378 | TP: 1.16654 | Size: 77,995 | Market: NEUTRAL
2026-01-09 14:22:33,875 - INFO - OPENED LONG | Price: 1.16516 | SL: 1.16378 | TP: 1.16654 | Size: 77,995 | Market: NEUTRAL
2026-01-09 14:22:33,878 - INFO - ðŸ”„ Trend reversal: Closing LONG and opening SHORT
2026-01-09 14:22:33,878 - INFO - CLOSED LONG | P/L: $-104.51 | Reason: SIGNAL_REVERSAL | Duration: 55m
2026-01-09 14:22:33,878 - INFO - CLOSED LONG | P/L: $-104.51 | Reason: SIGNAL_REVERSAL | Duration: 55m
2026-01-09 14:22:33,878 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,878 - INFO -   Market trend: NEUTRAL, Position: SHORT
2026-01-09 14:22:33,878 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,878 - INFO -   Position size: 36531 units (0.365 lots)
2026-01-09 14:22:33,878 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,878 - INFO -   Stop distance: 0.00274 (27.4 pips)
2026-01-09 14:22:33,878 - INFO - OPENED SHORT | Price: 1.16382 | SL: 1.16666 | TP: 1.16098 | Size: 36,531 | Market: NEUTRAL
2026-01-09 14:22:33,878 - INFO - OPENED SHORT | Price: 1.16382 | SL: 1.16666 | TP: 1.16098 | Size: 36,531 | Market: NEUTRAL
2026-01-09 14:22:33,903 - INFO - ðŸ”„ Trend reversal: Closing SHORT and opening LONG
2026-01-09 14:22:33,903 - INFO - CLOSED SHORT | P/L: $0.00 | Reason: SIGNAL_REVERSAL | Duration: 250m
2026-01-09 14:22:33,903 - INFO - CLOSED SHORT | P/L: $0.00 | Reason: SIGNAL_REVERSAL | Duration: 250m
2026-01-09 14:22:33,903 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,903 - INFO -   Market trend: NEUTRAL, Position: LONG
2026-01-09 14:22:33,903 - INFO -   Risk amount: $100.00
2026-01-09 14:22:33,903 - INFO -   Position size: 98106 units (0.981 lots)
2026-01-09 14:22:33,903 - INFO -   Actual risk: $100.00
2026-01-09 14:22:33,903 - INFO -   Stop distance: 0.00102 (10.2 pips)
2026-01-09 14:22:33,903 - INFO - OPENED LONG | Price: 1.16382 | SL: 1.16270 | TP: 1.16494 | Size: 98,106 | Market: NEUTRAL
2026-01-09 14:22:33,903 - INFO - OPENED LONG | Price: 1.16382 | SL: 1.16270 | TP: 1.16494 | Size: 98,106 | Market: NEUTRAL
2026-01-09 14:22:33,962 - INFO - ðŸ”„ Trend reversal: Closing LONG and opening SHORT
2026-01-09 14:22:33,962 - INFO - CLOSED LONG | P/L: $-68.67 | Reason: SIGNAL_REVERSAL | Duration: 180m
2026-01-09 14:22:33,962 - INFO - CLOSED LONG | P/L: $-68.67 | Reason: SIGNAL_REVERSAL | Duration: 180m
2026-01-09 14:22:33,962 - INFO - Market-aware position sizing:
2026-01-09 14:22:33,962 - INFO -   Market trend: BEAR, Position: SHORT
2026-01-09 14:22:33,962 - INFO -   Risk amount: $300.00
2026-01-09 14:22:33,962 - INFO -   Position size: 382849 units (3.828 lots)
2026-01-09 14:22:33,962 - INFO -   Actual risk: $300.00
2026-01-09 14:22:33,962 - INFO -   Stop distance: 0.00078 (7.8 pips)
2026-01-09 14:22:33,962 - INFO - OPENED SHORT | Price: 1.16312 | SL: 1.16400 | TP: 1.16224 | Size: 382,849 | Market: BEAR
2026-01-09 14:22:33,962 - INFO - OPENED SHORT | Price: 1.16312 | SL: 1.16400 | TP: 1.16224 | Size: 382,849 | Market: BEAR
2026-01-09 14:22:33,988 - INFO - CLOSED SHORT | P/L: $-199.08 | Reason: BACKTEST_END | Duration: 20m
2026-01-09 14:22:33,988 - INFO - CLOSED SHORT | P/L: $-199.08 | Reason: BACKTEST_END | Duration: 20m
2026-01-09 14:22:33,988 - INFO - Backtest completed. Total trades: 29
2026-01-09 14:22:33,988 - INFO - Backtest completed. Total trades: 29
Downloading historical data...
Running backtest...

============================================================
BACKTEST RESULTS
============================================================
Instrument: EUR_USD
Period: 5 days
Total Trades: 29
Win Rate: 37.9%
Total Return: $-466.79
Return %: -4.67%
Profit Factor: 0.67
Final Balance: $9533.21
/Users/dongchen/Documents/AI-project/GitHub/ppsupertrend/venv/lib/python3.9/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2026-01-09 14:22:34,443 - INFO - Downloading EUR_USD data for timeframes: ['M5', 'H3', 'M1']
2026-01-09 14:22:34,443 - INFO - 
--- Downloading M5 data ---
2026-01-09 14:22:34,443 - INFO - Loading cached data from backtest/data/EUR_USD_M5_20260104_20260109.csv
2026-01-09 14:22:34,449 - INFO - âœ“ M5: 1440 candles
2026-01-09 14:22:34,449 - INFO - 
--- Downloading H3 data ---
2026-01-09 14:22:34,449 - INFO - Loading cached data from backtest/data/EUR_USD_H3_20260104_20260109.csv
2026-01-09 14:22:34,450 - INFO - âœ“ H3: 50 candles
2026-01-09 14:22:34,450 - INFO - 
--- Downloading M1 data ---
2026-01-09 14:22:34,450 - INFO - Loading cached data from backtest/data/EUR_USD_M1_20260104_20260109.csv
2026-01-09 14:22:34,464 - INFO - âœ“ M1: 5000 candles
2026-01-09 14:22:34,467 - INFO - Starting backtest for EUR_USD 5m
2026-01-09 14:22:34,467 - INFO - Trading data: 1440 candles
2026-01-09 14:22:34,467 - INFO - Market data: 50 candles
2026-01-09 14:22:34,468 - INFO - M1 data: Not provided (standard backtest mode)
2026-01-09 14:22:34,468 - INFO - Backtest period: 2026-01-04 22:00:00+00:00 to 2026-01-09 21:55:00+00:00
2026-01-09 14:22:34,468 - INFO - Calculating indicators...
2026-01-09 14:22:35,206 - INFO - OPENED SHORT | Price: 1.17116 | SL: 1.17258 | TP: 1.16974 | Size: 75,930 | Market: NEUTRAL
2026-01-09 14:22:35,216 - INFO - CLOSED SHORT | P/L: $107.59 | Reason: TAKE_PROFIT | Duration: 190m
2026-01-09 14:22:35,227 - INFO - OPENED LONG | Price: 1.16848 | SL: 1.16742 | TP: 1.16954 | Size: 104,262 | Market: NEUTRAL
2026-01-09 14:22:35,240 - INFO - CLOSED LONG | P/L: $-94.88 | Reason: SIGNAL_REVERSAL | Duration: 240m
2026-01-09 14:22:35,240 - INFO - OPENED SHORT | Price: 1.16757 | SL: 1.16960 | TP: 1.16554 | Size: 51,700 | Market: NEUTRAL
2026-01-09 14:22:35,257 - INFO - CLOSED SHORT | P/L: $-94.61 | Reason: SIGNAL_REVERSAL | Duration: 320m
2026-01-09 14:22:35,257 - INFO - OPENED LONG | Price: 1.16940 | SL: 1.16622 | TP: 1.17258 | Size: 32,439 | Market: NEUTRAL
2026-01-09 14:22:35,270 - INFO - CLOSED LONG | P/L: $103.24 | Reason: TAKE_PROFIT | Duration: 240m
2026-01-09 14:22:35,278 - INFO - OPENED SHORT | Price: 1.17206 | SL: 1.17307 | TP: 1.17105 | Size: 109,855 | Market: NEUTRAL
2026-01-09 14:22:35,291 - INFO - CLOSED SHORT | P/L: $2.20 | Reason: SIGNAL_REVERSAL | Duration: 240m
2026-01-09 14:22:35,291 - INFO - OPENED LONG | Price: 1.17204 | SL: 1.17093 | TP: 1.17315 | Size: 99,350 | Market: NEUTRAL
2026-01-09 14:22:35,294 - INFO - CLOSED LONG | P/L: $109.93 | Reason: TAKE_PROFIT | Duration: 65m
2026-01-09 14:22:35,305 - INFO - OPENED SHORT | Price: 1.17300 | SL: 1.17387 | TP: 1.17213 | Size: 130,274 | Market: NEUTRAL
2026-01-09 14:22:35,308 - INFO - CLOSED SHORT | P/L: $-113.03 | Reason: STOP_LOSS | Duration: 70m
2026-01-09 14:22:35,309 - INFO - OPENED LONG | Price: 1.17406 | SL: 1.17271 | TP: 1.17541 | Size: 80,173 | Market: NEUTRAL
2026-01-09 14:22:35,311 - INFO - CLOSED LONG | P/L: $-92.20 | Reason: SIGNAL_REVERSAL | Duration: 55m
2026-01-09 14:22:35,311 - INFO - OPENED SHORT | Price: 1.17291 | SL: 1.17451 | TP: 1.17131 | Size: 66,750 | Market: NEUTRAL
2026-01-09 14:22:35,316 - INFO - CLOSED SHORT | P/L: $106.68 | Reason: TAKE_PROFIT | Duration: 85m
2026-01-09 14:22:35,331 - INFO - OPENED LONG | Price: 1.17143 | SL: 1.16968 | TP: 1.17318 | Size: 60,729 | Market: NEUTRAL
2026-01-09 14:22:35,334 - INFO - CLOSED LONG | P/L: $-106.07 | Reason: STOP_LOSS | Duration: 70m
2026-01-09 14:22:35,335 - INFO - OPENED SHORT | Price: 1.16958 | SL: 1.17228 | TP: 1.16688 | Size: 38,404 | Market: NEUTRAL
2026-01-09 14:22:35,344 - INFO - CLOSED SHORT | P/L: $-20.74 | Reason: SIGNAL_REVERSAL | Duration: 170m
2026-01-09 14:22:35,344 - INFO - OPENED LONG | Price: 1.17012 | SL: 1.16871 | TP: 1.17153 | Size: 76,459 | Market: NEUTRAL
2026-01-09 14:22:35,347 - INFO - CLOSED LONG | P/L: $-105.51 | Reason: SIGNAL_REVERSAL | Duration: 50m
2026-01-09 14:22:35,347 - INFO - OPENED SHORT | Price: 1.16874 | SL: 1.17046 | TP: 1.16702 | Size: 61,724 | Market: NEUTRAL
2026-01-09 14:22:35,365 - INFO - CLOSED SHORT | P/L: $-22.84 | Reason: SIGNAL_REVERSAL | Duration: 340m
2026-01-09 14:22:35,365 - INFO - OPENED LONG | Price: 1.16911 | SL: 1.16850 | TP: 1.16972 | Size: 196,990 | Market: NEUTRAL
2026-01-09 14:22:35,369 - INFO - CLOSED LONG | P/L: $119.70 | Reason: TAKE_PROFIT | Duration: 65m
2026-01-09 14:22:35,379 - INFO - OPENED SHORT | Price: 1.16934 | SL: 1.17045 | TP: 1.16823 | Size: 99,454 | Market: NEUTRAL
2026-01-09 14:22:35,386 - INFO - CLOSED SHORT | P/L: $-55.69 | Reason: SIGNAL_REVERSAL | Duration: 120m
2026-01-09 14:22:35,386 - INFO - OPENED LONG | Price: 1.16990 | SL: 1.16893 | TP: 1.17087 | Size: 115,162 | Market: NEUTRAL
2026-01-09 14:22:35,388 - INFO - CLOSED LONG | P/L: $-111.52 | Reason: STOP_LOSS | Duration: 40m
2026-01-09 14:22:35,389 - INFO - OPENED SHORT | Price: 1.16864 | SL: 1.17032 | TP: 1.16696 | Size: 63,360 | Market: NEUTRAL
2026-01-09 14:22:35,401 - INFO - CLOSED SHORT | P/L: $-38.02 | Reason: SIGNAL_REVERSAL | Duration: 225m
2026-01-09 14:22:35,401 - INFO - OPENED LONG | Price: 1.16924 | SL: 1.16752 | TP: 1.17096 | Size: 61,857 | Market: NEUTRAL
2026-01-09 14:22:35,426 - INFO - CLOSED LONG | P/L: $-58.15 | Reason: SIGNAL_REVERSAL | Duration: 460m
2026-01-09 14:22:35,426 - INFO - OPENED SHORT | Price: 1.16830 | SL: 1.16959 | TP: 1.16701 | Size: 84,135 | Market: NEUTRAL
2026-01-09 14:22:35,451 - INFO - CLOSED SHORT | P/L: $26.92 | Reason: SIGNAL_REVERSAL | Duration: 465m
2026-01-09 14:22:35,451 - INFO - OPENED LONG | Price: 1.16798 | SL: 1.16700 | TP: 1.16896 | Size: 113,159 | Market: NEUTRAL
2026-01-09 14:22:35,470 - INFO - CLOSED LONG | P/L: $-66.76 | Reason: SIGNAL_REVERSAL | Duration: 335m
2026-01-09 14:22:35,470 - INFO - OPENED SHORT | Price: 1.16739 | SL: 1.16849 | TP: 1.16629 | Size: 100,264 | Market: NEUTRAL
2026-01-09 14:22:35,473 - INFO - Progress: 69.4% (1000/1440)
2026-01-09 14:22:35,488 - INFO - CLOSED SHORT | P/L: $110.03 | Reason: TAKE_PROFIT | Duration: 330m
2026-01-09 14:22:35,510 - INFO - OPENED LONG | Price: 1.16532 | SL: 1.16433 | TP: 1.16631 | Size: 112,371 | Market: NEUTRAL
2026-01-09 14:22:35,522 - INFO - CLOSED LONG | P/L: $20.23 | Reason: SIGNAL_REVERSAL | Duration: 225m
2026-01-09 14:22:35,522 - INFO - OPENED SHORT | Price: 1.16550 | SL: 1.16619 | TP: 1.16481 | Size: 169,614 | Market: NEUTRAL
2026-01-09 14:22:35,528 - INFO - CLOSED SHORT | P/L: $116.96 | Reason: TAKE_PROFIT | Duration: 115m
2026-01-09 14:22:35,532 - INFO - OPENED LONG | Price: 1.16571 | SL: 1.16440 | TP: 1.16702 | Size: 82,966 | Market: NEUTRAL
2026-01-09 14:22:35,541 - INFO - CLOSED LONG | P/L: $-52.27 | Reason: SIGNAL_REVERSAL | Duration: 150m
2026-01-09 14:22:35,541 - INFO - OPENED SHORT | Price: 1.16508 | SL: 1.16588 | TP: 1.16428 | Size: 142,805 | Market: NEUTRAL
2026-01-09 14:22:35,547 - INFO - CLOSED SHORT | P/L: $114.28 | Reason: TAKE_PROFIT | Duration: 115m
2026-01-09 14:22:35,567 - INFO - OPENED LONG | Price: 1.16516 | SL: 1.16378 | TP: 1.16654 | Size: 77,995 | Market: NEUTRAL
2026-01-09 14:22:35,570 - INFO - CLOSED LONG | P/L: $-104.51 | Reason: SIGNAL_REVERSAL | Duration: 55m
2026-01-09 14:22:35,570 - INFO - OPENED SHORT | Price: 1.16382 | SL: 1.16666 | TP: 1.16098 | Size: 36,531 | Market: NEUTRAL
2026-01-09 14:22:35,584 - INFO - CLOSED SHORT | P/L: $0.00 | Reason: SIGNAL_REVERSAL | Duration: 250m
2026-01-09 14:22:35,584 - INFO - OPENED LONG | Price: 1.16382 | SL: 1.16270 | TP: 1.16494 | Size: 98,106 | Market: NEUTRAL
2026-01-09 14:22:35,642 - INFO - CLOSED LONG | P/L: $-68.67 | Reason: SIGNAL_REVERSAL | Duration: 180m
2026-01-09 14:22:35,642 - INFO - OPENED SHORT | Price: 1.16312 | SL: 1.16400 | TP: 1.16224 | Size: 382,849 | Market: BEAR
2026-01-09 14:22:35,668 - INFO - CLOSED SHORT | P/L: $-199.08 | Reason: BACKTEST_END | Duration: 20m
2026-01-09 14:22:35,668 - INFO - Backtest completed. Total trades: 29
/Users/dongchen/Documents/AI-project/GitHub/ppsupertrend/./backtest/src/report_generator.py:535: UserWarning: Converting to PeriodArray/Index representation will drop timezone information.
  monthly_df['month'] = monthly_df['exit_time'].dt.to_period('M')
Starting comprehensive backtest...
Instrument: EUR_USD
Timeframe: 5m
Period: 5 days

=== Downloading Data ===
Downloaded 1440 M5 candles
Downloaded 50 H3 candles

=== Running Backtest ===
Backtest completed: 29 trades
Final balance: $9,533.21
Total return: -4.67%

=== Generating Reports ===
Generating comprehensive backtest reports with prefix 'bt_EUR_USD_5m_account1_5d_20260109_142228'...
âœ“ Generated 5 visualization plots
âœ“ Generated detailed CSV trades report
âœ“ Generated comprehensive text summary
âœ“ Generated machine-readable JSON report

Report generation completed. 8 files generated in backtest/results/
Files generated:
  - bt_EUR_USD_5m_account1_5d_20260109_142228_equity_curve.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_drawdown.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_pl_distribution.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_market_analysis.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_position_analysis.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_EUR_USD_5m_trades.csv
  - bt_EUR_USD_5m_account1_5d_20260109_142228_EUR_USD_5m_summary.txt
  - bt_EUR_USD_5m_account1_5d_20260109_142228_EUR_USD_5m_report.json

=== Backtest Summary ===
Instrument: EUR_USD (5m)
Period: 5 days
Total Trades: 29
Win Rate: 37.9%
Total Return: $-466.79 (-4.67%)
Profit Factor: 0.67
Max Drawdown: -6.00%

Reports saved to: backtest/results/
  - bt_EUR_USD_5m_account1_5d_20260109_142228_equity_curve.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_drawdown.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_pl_distribution.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_market_analysis.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_position_analysis.png
  - bt_EUR_USD_5m_account1_5d_20260109_142228_EUR_USD_5m_trades.csv
  - bt_EUR_USD_5m_account1_5d_20260109_142228_EUR_USD_5m_summary.txt
  - bt_EUR_USD_5m_account1_5d_20260109_142228_EUR_USD_5m_report.json

=== Backtest Complete ===
